<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formulario de Pregunta</title>
</head>
<body>

<h2>Pregunta</h2>

<form id="formulario">
    <div id="pregunta-container"></div>
    <button type="submit">Enviar</button>

</form>
    <button id="nueva" onclick="window.location.reload()">Nueva</button>

<script>

    // Array de preguntas y respuestas
    var preguntas = [
        {
            pregunta: "¿Cuál es la capital de Francia?",
            respuestas: ["Londres", "Berlín", "París", "Roma"],
            respuestaCorrecta: 2 // Índice de la respuesta correcta (empezando desde 1)
        },
        {
            pregunta: "¿Cuál es el río más largo del mundo?",
            respuestas: ["Nilo", "Amazonas", "Yangtsé", "Misisipi"],
            respuestaCorrecta: 0
        },
        {
            pregunta: "¿Cuál es el elemento químico más abundante en la corteza terrestre?",
            respuestas: ["Oxígeno", "Carbono", "Hierro", "Silicio"],
            respuestaCorrecta: 0
        }
    ];

    // Función para crear el formulario de la pregunta actual
    function crearFormulario(pregunta) {
        var preguntaContainer = document.getElementById('pregunta-container');
        preguntaContainer.innerHTML = ''; // Limpiar el contenido del contenedor

        // Crear elemento de pregunta
        var preguntaElement = document.createElement('p');
        preguntaElement.textContent = pregunta.pregunta;
        preguntaContainer.appendChild(preguntaElement);

        // Crear elementos de opciones de respuesta
        pregunta.respuestas.forEach(function(respuesta, index) {
            var radioLabel = document.createElement('label');
            var radioInput = document.createElement('input');
            radioInput.type = 'radio';
            radioInput.name = 'respuesta';
            radioInput.value = index; // Asignar el índice de la respuesta como valor

            radioLabel.appendChild(radioInput);
            radioLabel.appendChild(document.createTextNode(respuesta));

            preguntaContainer.appendChild(radioLabel);
            preguntaContainer.appendChild(document.createElement('br'));
        });
    }

    // Función para manejar el envío del formulario
    function handleSubmit(event) {
        event.preventDefault(); // Prevenir el envío por defecto del formulario

        var respuestaSeleccionada = document.querySelector('input[name="respuesta"]:checked');
        if (respuestaSeleccionada) {
            var respuestaUsuario = parseInt(respuestaSeleccionada.value); // Convertir el valor de la respuesta a entero
            verificarRespuesta(respuestaUsuario);
        } else {
            alert('Por favor selecciona una respuesta.');
        }
    }

    // Función para verificar la respuesta seleccionada por el usuario
    function verificarRespuesta(respuestaUsuario) {
        if (respuestaUsuario === preguntaActual.respuestaCorrecta) {
            alert('¡Respuesta correcta!');
        } else {
            alert('Respuesta incorrecta. La respuesta correcta es la opción ' + (preguntaActual.respuestaCorrecta + 1));
        }
    }

    // Obtener una pregunta aleatoria
    var preguntaActual = preguntas[Math.floor(Math.random() * preguntas.length)];

    // Crear el formulario con la pregunta actual
    crearFormulario(preguntaActual);

    // Agregar un evento de escucha para el envío del formulario
    var formulario = document.getElementById('formulario');
    formulario.addEventListener('submit', handleSubmit);
    
    document.getElementByID('nueva').onclick = function() { location.reload();};


</script>

</body>
</html>
